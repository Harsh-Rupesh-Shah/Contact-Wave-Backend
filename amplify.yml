version: 1
backend:
  phases:
    build:
      commands:
        - npm install
        - npm install pm2 -g # Install pm2 globally
        - npm run build # Run your build script (if any)
        - pm2 start server.js --name "backend-server" # Start the server using pm2
frontend:
  phases:
    preBuild:
      commands:
        - echo "Skipping frontend build for backend-only application"
    build:
      commands:
        - echo "No frontend build required"
  artifacts:
    baseDirectory: .
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*